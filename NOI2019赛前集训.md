# NOI2019赛前集训

UPD：19/6/11 开始了一个大坑：）

## 6.11

### A.标记的连接图

​	~~简单的dp~~，发现所有状态都可以若干层。于是设$f_{i,j}$表示由$i$个点组成的图中，最后一层由$j$个点组成的图的个数，$g_{i,j}$表示.....所有点到跟的距离和。转移就是考虑连接这一层点和上一层点，还有新加的点互相连，最后答案要乘$(n-2)!$。

### B.游戏

​	北京集训时写过，顺便补上题解。先把两个数组排序，然后二分答案。现在图变成了一个二分图，问题变成了二分图博弈问题。现在问题变成$(a_1,b_1)$在不在二分图里面，不好做。二分图最大匹配=点数-二分图最大独立集。要求的就是$(a_1,b_1)$不在某一个最大独立集中。求最大独立集就是相当于找一个划分点，这个点左上方所有的黑点个数+右下方所有白点个数。

### C.脑部进食

​	很容易就可以想到$O((n|s_1||s_2|)^3)$的高消做法。然后发现转移方程的最后一维是分层的，于是可以做到$O((n|s_1|)^3|s_2|)​$。

## 6.12

### A.集合

​	$k=2$可以$O(n^2)$做。

​	$k=3，k=4$要推容斥系数。发现$F$的系数要么是0要么是1，所以可以$n^2$预处理每一段区间，它们是由若干个一次函数叠加起来的，然后就可以方便区间求和。预处理完后就可以双指针处理所有函数。我把每种情况都写了一个函数，相当麻烦。

### B.棋盘

​	~~咕咕咕~~

​	搞出来了。结论就是阶梯nim的结论。但是当$k$为偶数，且特殊棋子在第二位的时候要特判。

### C.序列

​	场上怎么就没想出来？？（被SA搞了，以后还是乖乖想SAM吧）

​	后缀树的形态不会变，变的只是某些点的儿子的顺序。发生的变化只有$O(N)$种，发生变化的点的个数是$N$。于是平衡树维护dfs序。没了